@{
    ViewData["Title"] = "Index";
}



@model List<ACC.ViewModels.RoleVM.RoleViewModel>

<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body>
    <div class="container mt-4">
        <h2>Roles</h2>

        <!-- Add Role Button -->
        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addRoleModal">Add Role</button>

        <!-- Search Input -->
        <input type="text" id="searchRole" class="form-control mt-2" placeholder="Search roles...">

        <!-- Role List -->
        <div class="mt-3" style="max-height: 300px; overflow-y: auto;">
            <ul id="roleList" class="list-group">
                @foreach (var role in Model)
                {
                    <li class="list-group-item role-item">@role.RoleName</li>
                }
            </ul>
        </div>
    </div>

    <!-- Add Role Modal -->
    <div class="modal fade" id="addRoleModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add Role</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="addRoleForm">
                        <label for="roleName" class="form-label">Role Name</label>
                        <input type="text" id="roleName" class="form-control" required>
                        <div class="mt-3 text-end">
                            <button type="submit" class="btn btn-primary">Add Role</button>
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>


    <script>
        $(document).ready(function () {
            $("#addRoleForm").submit(function (event) {
                event.preventDefault();
                var roleName = $("#roleName").val().trim();

                if (roleName !== "") {
                    $.ajax({
                        url: "/Role/AddRole",
                        type: "POST",
                        data: { roleName: roleName },
                        success: function (response) {
                            if (response.success) {
                                var newItem = $("<li>").addClass("list-group-item role-item").text(roleName);
                                $("#roleList").append(newItem);
                                $("#roleName").val(""); // Reset input
                                $("#addRoleModal").modal("hide"); // Close modal
                                alert(response.message); // Show success message
                            } else {
                                alert(response.message); // Show error message
                            }
                        }
                    });
                }
            });

            // Role Search
            $("#searchRole").on("input", function () {
                var searchText = $(this).val().toLowerCase();
                $(".role-item").each(function () {
                    var text = $(this).text().toLowerCase();
                    $(this).toggle(text.includes(searchText));
                });
            });
        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>





















@* ------------------------------------------------------------------------------------ *@
@* <!DOCTYPE html> *@
@* <html lang="en"> *@
@* <head> *@
@*     <meta charset="UTF-8"> *@
@*     <meta name="viewport" content="width=device-width, initial-scale=1.0"> *@
@*     <title>Roles Management</title> *@
@*     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"> *@
@*     <style> *@
@*         .roles-container { *@
@*             display: flex; *@
@*             height: 80vh; *@
@*         } *@

@*         .roles-list { *@
@*             width: 30%; *@
@*             overflow-y: auto; *@
@*             border-right: 1px solid #ddd; *@
@*             padding: 10px; *@
@*         } *@

@*         .role-details { *@
@*             width: 70%; *@
@*             padding: 20px; *@
@*         } *@
@*     </style> *@
@* </head> *@
@* <body> *@
@*     <div class="container mt-4"> *@
@*         <h2>Roles Management</h2> *@

@*         <!-- Add Role Button --> *@
@*         <button class="btn btn-primary mb-3" data-bs-toggle="modal" data-bs-target="#addRoleModal">Add Role</button> *@

@*         <!-- Search Input --> *@
@*         <input type="text" id="searchInput" class="form-control mb-3" placeholder="Search roles..." onkeyup="filterRoles()"> *@

@*         <div class="roles-container border rounded"> *@
@*             <!-- Scrollable Roles List --> *@
@*             <div class="roles-list"> *@
@*                 <ul class="list-group" id="roleList"> *@
@*                     @if (Model != null) *@
@*                     { *@
@*                         foreach (var role in Model) *@
@*                         { *@
@*                             <li class="list-group-item role-item" onclick="showRoleDetails('@role.RoleName')"> *@
@*                                 @role.RoleName *@
@*                             </li> *@
@*                         } *@
@*                     } *@
@*                     else *@
@*                     { *@
@*                         <li class="list-group-item text-center">No roles found.</li> *@
@*                     } *@
@*                 </ul> *@
@*             </div> *@

@*             <!-- Role Details Section --> *@
@*             <div class="role-details"> *@
@*                 <h4>Role Details</h4> *@
@*                 <p id="roleDetailsText">Select a role to view details.</p> *@
@*             </div> *@
@*         </div> *@
@*     </div> *@

@*     <!-- Bootstrap Modal for Adding a Role --> *@
@*     <div class="modal fade" id="addRoleModal" tabindex="-1" aria-labelledby="addRoleModalLabel" aria-hidden="true"> *@
@*         <div class="modal-dialog"> *@
@*             <div class="modal-content"> *@
@*                 <div class="modal-header"> *@
@*                     <h5 class="modal-title" id="addRoleModalLabel">Add Role</h5> *@
@*                     <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button> *@
@*                 </div> *@
@*                 <div class="modal-body"> *@
@*                     <form id="addRoleForm"> *@
@*                         <div class="mb-3"> *@
@*                             <label for="roleName" class="form-label">Role name*</label> *@
@*                             <input type="text" class="form-control" id="roleName" placeholder="Add role name" required> *@
@*                         </div> *@
@*                         <button type="submit" class="btn btn-primary">Add Role</button> *@
@*                         <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button> *@
@*                     </form> *@
@*                 </div> *@
@*             </div> *@
@*         </div> *@
@*     </div> *@

@*     <script> *@
@*         function filterRoles() { *@
@*             var input = document.getElementById("searchInput").value.toLowerCase(); *@
@*             var items = document.getElementsByClassName("role-item"); *@

@*             for (var i = 0; i < items.length; i++) { *@
@*                 var text = items[i].innerText.toLowerCase(); *@
@*                 items[i].style.display = text.includes(input) ? "" : "none"; *@
@*             } *@
@*         } *@

@*         function showRoleDetails(roleName) { *@
@*             document.getElementById("roleDetailsText").innerText = "Selected Role: " + roleName; *@
@*         } *@

@*         document.getElementById("addRoleForm").addEventListener("submit", function(event) { *@
@*             event.preventDefault(); *@
@*             var roleName = document.getElementById("roleName").value; *@
@*             if (roleName.trim() !== "") { *@
@*                 var roleList = document.getElementById("roleList"); *@
@*                 var newItem = document.createElement("li"); *@
@*                 newItem.className = "list-group-item role-item"; *@
@*                 newItem.innerText = roleName; *@
@*                 newItem.onclick = function () { showRoleDetails(roleName); }; *@
@*                 roleList.appendChild(newItem); *@
@*                 document.getElementById("roleName").value = ""; // Reset input *@
@*                 var modal = bootstrap.Modal.getInstance(document.getElementById('addRoleModal')); *@
@*                 modal.hide(); // Close modal *@
@*             } *@
@*         }); *@
@*     </script> *@

@*     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script> *@
@* </body> *@
@* </html> *@


















@* ------------------------------------------------------------------------------------------ *@
@* <!DOCTYPE html> *@
@* <html lang="en"> *@
@* <head> *@
@*     <meta charset="UTF-8"> *@
@*     <meta name="viewport" content="width=device-width, initial-scale=1.0"> *@
@*     <title>Roles Management</title> *@
@*     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"> *@
@*     <style> *@
@*         .roles-container { *@
@*             display: flex; *@
@*             height: 80vh; *@
@*         } *@
@*         .roles-list { *@
@*             width: 30%; *@
@*             overflow-y: auto; *@
@*             border-right: 1px solid #ddd; *@
@*             padding: 10px; *@
@*         } *@
@*         .role-details { *@
@*             width: 70%; *@
@*             padding: 20px; *@
@*         } *@
@*     </style> *@
@* </head> *@
@* <body> *@
@*     <div class="container mt-4"> *@
@*         <h2>Roles Management</h2> *@

@*         <!-- Add Role Button --> *@
@*         <button class="btn btn-primary mb-3" onclick="addRole()">Add Role</button> *@

@*         <!-- Search Input --> *@
@*         <input type="text" id="searchInput" class="form-control mb-3" placeholder="Search roles..." onkeyup="filterRoles()"> *@

@*         <div class="roles-container border rounded"> *@
@*             <!-- Scrollable Roles List --> *@
@*             <div class="roles-list"> *@
@*                 <ul class="list-group" id="roleList"> *@
@*                     @if (Model != null) *@
@*                     { *@
@*                         foreach (var role in Model) *@
@*                         { *@
@*                             <li class="list-group-item role-item" onclick="showRoleDetails('@role.RoleName')"> *@
@*                                 @role.RoleName *@
@*                             </li> *@
@*                         } *@
@*                     } *@
@*                     else *@
@*                     { *@
@*                         <li class="list-group-item text-center">No roles found.</li> *@
@*                     } *@
@*                 </ul> *@
@*             </div> *@

@*             <!-- Role Details Section --> *@
@*             <div class="role-details"> *@
@*                 <h4>Role Details</h4> *@
@*                 <p id="roleDetailsText">Select a role to view details.</p> *@
@*             </div> *@
@*         </div> *@
@*     </div> *@

@*     <script> *@
@*         function filterRoles() { *@
@*             var input = document.getElementById("searchInput").value.toLowerCase(); *@
@*             var items = document.getElementsByClassName("role-item"); *@

@*             for (var i = 0; i < items.length; i++) { *@
@*                 var text = items[i].innerText.toLowerCase(); *@
@*                 items[i].style.display = text.includes(input) ? "" : "none"; *@
@*             } *@
@*         } *@

@*         function showRoleDetails(roleName) { *@
@*             document.getElementById("roleDetailsText").innerText = "Selected Role: " + roleName; *@
@*         } *@

@*         function addRole() { *@
@*             alert("Add Role functionality not implemented yet."); *@
@*         } *@
@*     </script> *@
@* </body> *@
@* </html> *@














@* ---------------------------------------------------------------------- *@

@* <!DOCTYPE html> *@
@* <html lang="en"> *@
@* <head> *@
@*     <meta charset="UTF-8"> *@
@*     <meta name="viewport" content="width=device-width, initial-scale=1.0"> *@
@*     <title>Roles</title> *@
@*     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"> *@
@* </head> *@
@* <body> *@
@*     <div class="container mt-4"> *@
@*         <h2>Roles</h2> *@
@*         <table class="table table-striped"> *@
@*             <thead> *@
@*                 <tr> *@
@*                     <th>#</th> *@
@*                     <th>Role Name</th> *@
@*                 </tr> *@
@*             </thead> *@
@*             <tbody> *@
@*                 @if (Model != null) *@
@*                 { *@
@*                     var index = 1; *@
@*                     foreach (var role in Model) *@
@*                     { *@
@*                         <tr> *@
@*                             <td>@index</td> *@
@*                             <td>@role.RoleName</td> *@
@*                         </tr> *@
@*                         index++; *@
@*                     } *@
@*                 } *@
@*                 else *@
@*                 { *@
@*                     <tr> *@
@*                         <td colspan="2" class="text-center">No roles found.</td> *@
@*                     </tr> *@
@*                 } *@
@*             </tbody> *@
@*         </table> *@
@*     </div> *@
@* </body> *@
@* </html> *@

